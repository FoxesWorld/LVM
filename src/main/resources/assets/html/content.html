<html>
<head>
    <meta charset="UTF-8">
    <style>
        html, body { margin: 0; padding: 0; height: 100%; overflow: hidden; }
    </style>
</head>
<body>
<div id="{{containerId}}"></div>
<script>
    {{bodymovinJs}}
</script>
<script>
    var animationData = {{animationJson}};
    var animation = bodymovin.loadAnimation({
        container: document.getElementById('{{containerId}}'),
        renderer: '{{renderer}}',
        loop: {{loop}},
    autoplay: {{autoplay}},
    animationData: animationData
    });

    var lottieEvents = [
        'complete',
        'loopComplete',
        'enterFrame',
        'segmentStart',
        'data_ready',
        'data_failed',
        'loaded_images',
        'DOMLoaded'
    ];

    lottieEvents.forEach(function(eventName) {
        animation.addEventListener(eventName, function(event) {
            if (typeof animationCallback !== 'undefined' && typeof animationCallback.onEvent === 'function') {
                animationCallback.onEvent(eventName, JSON.stringify(event, null, 2));
            } else {
                console.log("Lottie event [" + eventName + "] occurred:", event);
            }
        });
    });

</script>
</body>
</html>
